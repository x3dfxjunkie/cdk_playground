scenario:
  name: OrionEATestScenario
  description: OrionEA Normal Test Scenario
input:
  endpoint:
    type: kinesis
    stream_name: guest360-load-testing-test-stream
    region: us-east-1
  data:
    schema: path/to/dataclass/schema
    schema_name: orion_ea
    active_injection: false
    samples:
      source: s3
      bucket_name: load-testing
      path: orion_ea_normal/
metrics:
  namespace_name: locust-load-tests  
  cw_log_group_name: locust-load-tests-logs
  dimensions:
    - Name: Source
      Value: Orion_EA
    - Name: Target
      Value: Kinesis  
evaluation:
  metrics:
  - label: DataMockerRecords
    metric_name: DataMockerRecords
    statistic: SUM
  - label: PutRecordsSuccess
    metric_name: KinesisPutRecordsSuccess
    statistic: SUM
  - label: PutLatency
    metric_name: KinesisPutLatency
    statistic: p99
  tests:
  - name: success_factor
    condition: B/A > 0.99
  - name: records_posted
    condition: C < 100
phases:
- name: normal
  duration_minutes: 1
  arrival_rate: 1000
- name: peak
  duration_minutes: 1
  arrival_rate: 50000

