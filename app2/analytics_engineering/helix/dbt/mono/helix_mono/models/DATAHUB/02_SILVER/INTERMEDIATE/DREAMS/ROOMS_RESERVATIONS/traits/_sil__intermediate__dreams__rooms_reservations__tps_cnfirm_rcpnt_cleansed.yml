version: 2

models:
  - name: sil__intermediate__dreams__rooms_reservations__tps_cnfirm_rcpnt_cleansed
    description: '{{ doc("sil__intermediate__dreams__rooms_reservations__tps_cnfirm_rcpnt_cleansed") }}'

    meta:
      environment_wh:
        - env: LOCAL
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: LATEST
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: EPHEMERAL_PR
          wh: PR_SMALL_WH
        - env: STAGE
          wh: HOTEL_LODGING_STAGE_WH_M
        - env: PROD
          wh: HOTEL_LODGING_PROD_WH_M

    config:
      tags:
        - layer=silver_intermediate
        - sub_layer=silver_intermediate_cleansed
        - active=LATEST
        - active=STAGE
        - active=LOAD
        - active=PROD

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - data_tps_cnfirm_rcpnt_id
            - metadata_checksum

    columns:
      - name: data_create_usr_id_cd
        description: "The identification value for the user or application that created a row in this table. | example: WDPRO"
        meta:
          checksum: True

      - name: data_create_dts
        description: "The month day century year hour minute and second when a row was created in this table. | example: 2023-03-29T11:30:10.669000Z"
        meta:
          checksum: True

      - name: data_updt_usr_id_cd
        description: "The identification value for the user or application that updated this row in this table. | example: WDPRO"
        meta:
          checksum: True

      - name: data_updt_dts
        description: "The month day century year hour minute and second when a row in this table was updated. | example: 2023-03-29T11:30:10.669000Z"

      - name: data_jdo_seq_nb
        description: "A Java Data Object structure used to ensure that optimistic locking of rows in the database do not occur. | example: 1"
        meta:
          checksum: True

      - name: data_tps_id
        description: "A unique numeric identifier for a travel plan segment. | example: 530631525237"
        meta:
          checksum: True

      - name: data_tps_cnfirm_rcpnt_id
        description: "The unique identification of the individual or organization who is designated as the recipient of a confirmation of a travel plan segment reservation. | example: 99929681"
        tags: ['column_designation=primary_key']
        tests:
          - not_null

      - name: data_dlvr_meth_nm
        description: "The designation for the way a communication is to be delivered. | example: Email"
        meta:
          checksum: True

      - name: data_pty_id
        description: "The unique identification of a party (either an organization or individual) who is important to the management of guest accounts. The party can perform the role of either responsible party for the folio or the billing party for the folio. | example: 999727060"
        meta:
          checksum: True

      - name: data_lctr_id
        description: "The identification of the locator that will be used to disseminate the confirmation. | example: 999604092"
        meta:
          checksum: True

      - name: data_dflt_cnfirm_in
        description: "Identifies that a confirmation on a reservation for a travel plan segment that is being sent to a party is (Y) or is not (N) the default confirmation.  Default setting is N, the confirmation is not the default confirmation that is being sent to a party for a reservation on a Travel Plan Segment. | example: Y"
        meta:
          checksum: True

      - name: data_dvc_mbrshp_in
        description: "Identifies that the recipient of this confirmation for a travel plan segment is (Y) or is not (N) for a member of the Disney Vacation Club. Default setting is N, the confirmation is to an individual who is not a member of the Disney Vacation Club. | example: N"
        meta:
          checksum: True

      - name: data_cnfirm_sent_in
        description: "Identifies that a confirmation was/has (Y) or was not/has not (N) been sent to the recipient.  Default setting is N, the recipient has not been sent the confirmation. | example: Y"
        meta:
          checksum: True

      - name: data_cnfirm_sprs_in
        description: "Identifies that the confirmation is (Y) or is not (N) to be suppressed.  Default setting is N, the confirmation is to be sent.   | example: N"
        meta:
          checksum: True

      - name: data_cntct_nm
        description: "The designation for the contact for the cancellation of the accommodation reservation. | example: Mickey, Mouse"
        meta:
          checksum: True

      - name: data_lacd_in
        description: ""
        meta:
          checksum: True

      - name: data_prge_dts
        description: ""
        meta:
          checksum: True

      - name: min_metadata_timestamp
        description: "The Minimum Metadata Timestamp field is used for updating the version end date of the active record in the target table"
        tests:
          - not_null

      - name: metadata_checksum
        description: "Metadata Checksum"
        tests:
          - not_null

      - name: metadata_timestamp
        description: "Timestamp for when the record was sent in the stream | example: 2023-03-29T15:30:19.109655Z"
        tests:
          - not_null

      - name: metadata_record_type
        description: "data | example: data"

      - name: metadata_operation
        description: ""

      - name: metadata_partition_key_type
        description: ""

      - name: metadata_schema_name
        description: "Name of the schema in snowflake | example: res_mgmt"

      - name: metadata_table_name
        description: "name of the table in snowflake | example: tc"

      - name: metadata_transaction_id
        description: "unique ID for the stream record | example: 70974432245344"

      - name: metadata_transaction_record_id
        description: "Transaction Record ID | example: 70974432245344"

      - name: metadata_prev_transaction_id
        description: "Previous Transaction ID | example: 70974432245344"

      - name: metadata_prev_transaction_record_id
        description: "Previous Transaction Record ID | example: 70974432245344"

      - name: metadata_commit_timestamp
        description: "Commit Timestamp | example: 2023-03-29T15:30:19.109655Z"

      - name: metadata_stream_position
        description: "Stream Position | example:"

      - name: metadata_insert_datetime
        description: "This is the current timestamp in UTC when the record is inserted"
        tests:
          - not_null

      - name: metadata_batch_user
        description: "Batch user. Default value will be dbt"
        tests:
          - not_null

      - name: landing_id
        description: ""

      - name: landing_file_name
        description: ""

      - name: landing_file_row_number
        description: ""

      - name: landing_file_last_modified
        description: ""

      - name: landing_timestamp
        description: ""

      - name: landing_cloudevent_id
        description: ""

      - name: landing_cloudevent_specversion
        description: ""

      - name: landing_cloudevent_time
        description: ""

      - name: landing_cloudevent_source
        description: ""

      - name: landing_cloudevent_subject
        description: ""

      - name: landing_cloudevent_stream
        description: ""

      - name: landing_cloudevent_type
        description: ""

      - name: landing_cloudevent_dataschema
        description: ""

      - name: landing_cloudevent_traceparent
        description: ""

      - name: landing_cloudevent_tracestate
        description: ""

      - name: landing_cloudevent_check_sum
        description: ""

      - name: landing_cloudevent_router_database
        description: ""

      - name: landing_cloudevent_router_schema
        description: ""

      - name: landing_cloudevent_router_table
        description: ""

      - name: landing_cloudevent_validated
        description: ""

      - name: landing_cloudevent_data_contract_version
        description: ""

      - name: landing_cloudevent_datacontenttype
        description: ""

      - name: landing_cloudevent_exception_error
        description: ""