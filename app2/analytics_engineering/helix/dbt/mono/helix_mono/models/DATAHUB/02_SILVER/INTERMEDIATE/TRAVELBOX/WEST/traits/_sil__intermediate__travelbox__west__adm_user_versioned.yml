version: 2

models:
  - name: sil__intermediate__travelbox__west__adm_user_versioned
    description: '{{ doc("sil__intermediate__travelbox__west__adm_user_versioned") }}'

    meta:
      environment_wh:
        - env: LOCAL
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: LATEST
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: EPHEMERAL_PR
          wh: PR_SMALL_WH
        - env: STAGE
          wh: HOTEL_LODGING_STAGE_WH_M
        - env: PROD
          wh: HOTEL_LODGING_PROD_WH_M

    config:
      tags:
        - layer=silver_intermediate
        - sub_layer=silver_intermediate_versioned
        - active=LATEST
        - active=STAGE
        - active=LOAD
        - active=PROD

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - data_user_id
            - metadata_checksum

    columns:
      - name: data_created_time
        description: "NaN | example: 1999-09-18 18:05:42"

      - name: data_created_user
        description: "Task created user | example: 8971"

      - name: data_last_modified_user
        description: "Queue record last modified user | example: 2640"

      - name: data_last_modified_time
        description: "The time at which the last modification has done. | example: 2017-01-17 08:28:29"

      - name: data_notes
        description: "Notes for the tax invoice | example: jXKQeYUPzSpwMUBCKiQQ"

      - name: data_created_by_agent
        description: "A flag to indicate whether user was created from TravelBox Agent or OTA flow. 1 for TravelBox Agent and 0 for OTA. | example: 1"

      - name: data_user_id
        description: "Deprecated | example: 15120"
        tags: ['column_designation=primary_key']
        tests:
          - not_null

      - name: data_username
        description: "The username of the user | example: seubm001"

      - name: data_password
        description: "Hashed value of the user&#39;s password | example: geJ1cqatBnR7zkNHPsNeVe8"

      - name: data_firstname
        description: "The first name of the user | example: Marielos"

      - name: data_lastname
        description: "The last name of the user | example: Seubert"

      - name: data_initials
        description: "The initials of the user | example: mxs"

      - name: data_sex
        description: "Sex of the user  M or F_x000D_
 | example: F"

      - name: data_dob
        description: "The date of birth of the user | example: 2011-03-21 04:03:08"

      - name: data_logins
        description: "Maximum allowed number of simultaneous logins for the user account | example: 10"

      - name: data_agent_preference
        description: "Deprecated | example: IFDcIkSqNpZWwAUFLmXR"

      - name: data_telephone
        description: "The telephone number of the user | example: tiAUoFLiHAXpDniSwdnA"

      - name: data_email
        description: "The email address of the user | example: dummyEmail@codegen.net"

      - name: data_extension
        description: "Telephone extension of the user | example: xqLsucXOaVhmsKjUAZAj"

      - name: data_status
        description: "The TravelBox code of the status of the contract | example: A"

      - name: data_display_name
        description: "The name which will be displayed to other users | example: Marielos"

      - name: data_question_id
        description: "Id of the Security question | example: 281"

      - name: data_answer
        description: "Hashed value of the user&#39;s security question answer | example: mCSJs2U5OnLvZlCE+WfdMcrVi2s="

      - name: data_pwd_change_date
        description: "Changed date of the last password | example: 2017-03-03 07:21:47"

      - name: data_default_password
        description: "Whether the user use default password or not | example: 0"

      - name: data_default_answer
        description: "Whether the user use default security question answer or not | example: 0"

      - name: data_default_currency
        description: "Default currency code of the user | example: USD"

      - name: data_default_div
        description: "Default division code of the user | example: WDTCDLR"

      - name: data_default_com
        description: "Default company code of the user | example: WDTC"

      - name: data_agent_initials
        description: "Deprecated | example: ekmpzbofyJoQmKMafxDh"

      - name: data_agent_sign
        description: "Deprecated | example: wUwTeipOwgLscNHEWYRW"

      - name: data_psudo_city
        description: "Deprecated | example: KmzSrbgIpoKydIrHcjEl"

      - name: data_b2_b_user
        description: "whether the user is B2B user or not : 1 or 0 value | example: 0"

      - name: metadata_checksum
        description: "Metadata Checksum"
        tests:
          - not_null

      - name: metadata_timestamp
        description: "Timestamp of when the record was sent to the stream | example: 2023-08-11 14:38:01.378618"
        tests:
          - not_null

      - name: metadata_record_type
        description: "Type of record | example: data"

      - name: metadata_operation
        description: "Type of operation [insert, delete, update] | example: update"

      - name: metadata_partition_key_type
        description: "Partition key | example: schema-table"

      - name: metadata_schema_name
        description: "Name of schema | example: SFLNSMD"

      - name: metadata_table_name
        description: "Name of table | example: AP_LVL_N_ENTTL_FISCAL_DT"

      - name: metadata_transaction_id
        description: "Unique Transaction Identifier | example: 59558768559209"

      - name: metadata_transaction_record_id
        description: "Transaction Record ID | example: 70974432245344"

      - name: metadata_prev_transaction_id
        description: "Previous Transaction ID | example: 70974432245344"

      - name: metadata_prev_transaction_record_id
        description: "Previous Transaction Record ID | example: 70974432245344"

      - name: metadata_commit_timestamp
        description: "Commit Timestamp | example: 2023-03-29T15:30:19.109655Z"

      - name: metadata_stream_position
        description: "Stream Position | example:"

      - name: metadata_insert_datetime
        description: "This is the current timestamp in UTC when the record is inserted"
        tests:
          - not_null

      - name: metadata_batch_user
        description: "Batch user. Default value will be dbt"
        tests:
          - not_null

      - name: metadata_version_start_datetime
        description: "Version start datetime"
        tests:
          - not_null

      - name: metadata_version_end_datetime
        description: "Version end datetime"
        tests:
          - not_null

      - name: landing_id
        description: ""

      - name: landing_file_name
        description: ""

      - name: landing_file_row_number
        description: ""

      - name: landing_file_last_modified
        description: ""

      - name: landing_timestamp
        description: ""

      - name: landing_cloudevent_id
        description: ""

      - name: landing_cloudevent_specversion
        description: ""

      - name: landing_cloudevent_time
        description: ""

      - name: landing_cloudevent_source
        description: ""

      - name: landing_cloudevent_subject
        description: ""

      - name: landing_cloudevent_stream
        description: ""

      - name: landing_cloudevent_type
        description: ""

      - name: landing_cloudevent_dataschema
        description: ""

      - name: landing_cloudevent_traceparent
        description: ""

      - name: landing_cloudevent_tracestate
        description: ""

      - name: landing_cloudevent_check_sum
        description: ""

      - name: landing_cloudevent_router_database
        description: ""

      - name: landing_cloudevent_router_schema
        description: ""

      - name: landing_cloudevent_router_table
        description: ""

      - name: landing_cloudevent_validated
        description: ""

      - name: landing_cloudevent_data_contract_version
        description: ""

      - name: landing_cloudevent_datacontenttype
        description: ""

      - name: landing_cloudevent_exception_error
        description: ""