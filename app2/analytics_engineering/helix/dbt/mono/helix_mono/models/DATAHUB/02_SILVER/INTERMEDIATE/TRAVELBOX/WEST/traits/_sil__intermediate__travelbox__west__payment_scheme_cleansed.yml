version: 2

models:
  - name: sil__intermediate__travelbox__west__payment_scheme_cleansed
    description: '{{ doc("sil__intermediate__travelbox__west__payment_scheme_cleansed") }}'

    meta:
      environment_wh:
        - env: LOCAL
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: LATEST
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: EPHEMERAL_PR
          wh: PR_SMALL_WH
        - env: STAGE
          wh: HOTEL_LODGING_STAGE_WH_M
        - env: PROD
          wh: HOTEL_LODGING_PROD_WH_M

    config:
      tags:
        - layer=silver_intermediate
        - sub_layer=silver_intermediate_cleansed
        - active=LATEST
        - active=STAGE
        - active=LOAD
        - active=PROD

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - data_pay_scheme_id
            - metadata_checksum

    columns:
      - name: data_pre_amount
        description: "Amount of pre payment | example: 100.0"
        meta:
          checksum: True

      - name: data_pre_amount_type
        description: "What type of pre payment should can be done.  A - Amount, P - Presentage, N - for Nights | example: P"
        meta:
          checksum: True

      - name: data_pre_currency
        description: "Foreign key to field CODE in the CURRENCY table | example: AfrzuslgwzAtKtGjzXqC"
        meta:
          checksum: True

      - name: data_post_payment_method
        description: "Post payment method.  B - Before departure, I - After Invoice, D - After deposit, G - After booking | example: X"
        meta:
          checksum: True

      - name: data_post_payment_type
        description: "Post payment type, M - Mothly payment, D - Payment on date, P - Monthly payment on a date | example: X"
        meta:
          checksum: True

      - name: data_post_payment_month_no
        description: "Month which the payment should be settled. Depend on the choices of the balanced payment section of the payment scheme setup. | example: 1597"
        meta:
          checksum: True

      - name: data_post_date
        description: "Date that the dispatch document is posted | example: 4693"
        meta:
          checksum: True

      - name: data_inv_due_period
        description: "Specify the number of days to settle the due payment to the supplier after receiving the invoice. | example: 644"
        meta:
          checksum: True

      - name: data_checkout_date_consider
        description: "Deprecated | example: 0"
        meta:
          checksum: True

      - name: data_auto_payment
        description: "Flag to indicate this payment is auto payment or not | example: 1"
        meta:
          checksum: True

      - name: data_interface_code
        description: "Interface code that payment recode should be posted | example: FI001D"
        meta:
          checksum: True

      - name: data_depo_aft_bkg_bef_dept
        description: "If the deposit payment selected as after booking, there is a choice of selecting &#39;But before departure&#39;, if that is selected this will be set to 1, otherwise 0. | example: 0"
        meta:
          checksum: True

      - name: data_bal_aft_bkg_bef_dept
        description: "If the balance payment selected as after booking, there is a choice of selecting &#39;But before departure&#39;, if that is selected this will be set to 1, otherwise 0. | example: 0"
        meta:
          checksum: True

      - name: data_payment_media
        description: "if the virutal creditd card is enable from the configuration, this will be filled with the available transaction types | example: yanLzdHldJSJAJOjVyYN"
        meta:
          checksum: True

      - name: data_pay_scheme_id
        description: "Primary key of the table | example: 2773"
        tags: ['column_designation=primary_key']
        tests:
          - not_null

      - name: data_payment_ref
        description: "Deprecated | example: TRAVELEX 44 DAYS PRIOR"
        meta:
          checksum: True

      - name: data_description
        description: "The TravelBox name of the board basis | example: Pay Travelex 44 days prior to guest departure"
        meta:
          checksum: True

      - name: data_product
        description: "Selected product type codes_x000D_
 | example: INS"
        meta:
          checksum: True

      - name: data_pre_payment_method
        description: "Pre payment method.  B - Before departure, I - After Invoice, D - After deposit, G - After booking | example: B"
        meta:
          checksum: True

      - name: data_pre_payment_type
        description: "Deprecated | example: tRuRbOlLWbhrxbShYEAp"
        meta:
          checksum: True

      - name: data_pre_date
        description: "Days relevant for the deposit payment can be_x000D_
specified._x000D_
Ex:_x000D_
If the number of Days is 3, and Å‚efore_x000D_
Departure? radio button is selected, the deposit_x000D_
should be paid to the supplier 3 days before the_x000D_
departure date.  | example: 44"
        meta:
          checksum: True

      - name: min_metadata_timestamp
        description: "The Minimum Metadata Timestamp field is used for updating the version end date of the active record in the target table"
        tests:
          - not_null

      - name: metadata_checksum
        description: "Metadata Checksum"
        tests:
          - not_null

      - name: metadata_timestamp
        description: "Timestamp of when the record was sent to the stream | example: 2023-08-11 14:38:01.378618"
        tests:
          - not_null

      - name: metadata_record_type
        description: "Type of record | example: data"

      - name: metadata_operation
        description: "Type of operation [insert, delete, update] | example: update"

      - name: metadata_partition_key_type
        description: "Partition key | example: schema-table"

      - name: metadata_schema_name
        description: "Name of schema | example: SFLNSMD"

      - name: metadata_table_name
        description: "Name of table | example: AP_LVL_N_ENTTL_FISCAL_DT"

      - name: metadata_transaction_id
        description: "Unique Transaction Identifier | example: 59558768559209"

      - name: metadata_transaction_record_id
        description: "Transaction Record ID | example: 70974432245344"

      - name: metadata_prev_transaction_id
        description: "Previous Transaction ID | example: 70974432245344"

      - name: metadata_prev_transaction_record_id
        description: "Previous Transaction Record ID | example: 70974432245344"

      - name: metadata_commit_timestamp
        description: "Commit Timestamp | example: 2023-03-29T15:30:19.109655Z"

      - name: metadata_stream_position
        description: "Stream Position | example:"

      - name: metadata_insert_datetime
        description: "This is the current timestamp in UTC when the record is inserted"
        tests:
          - not_null

      - name: metadata_batch_user
        description: "Batch user. Default value will be dbt"
        tests:
          - not_null

      - name: landing_id
        description: ""

      - name: landing_file_name
        description: ""

      - name: landing_file_row_number
        description: ""

      - name: landing_file_last_modified
        description: ""

      - name: landing_timestamp
        description: ""

      - name: landing_cloudevent_id
        description: ""

      - name: landing_cloudevent_specversion
        description: ""

      - name: landing_cloudevent_time
        description: ""

      - name: landing_cloudevent_source
        description: ""

      - name: landing_cloudevent_subject
        description: ""

      - name: landing_cloudevent_stream
        description: ""

      - name: landing_cloudevent_type
        description: ""

      - name: landing_cloudevent_dataschema
        description: ""

      - name: landing_cloudevent_traceparent
        description: ""

      - name: landing_cloudevent_tracestate
        description: ""

      - name: landing_cloudevent_check_sum
        description: ""

      - name: landing_cloudevent_router_database
        description: ""

      - name: landing_cloudevent_router_schema
        description: ""

      - name: landing_cloudevent_router_table
        description: ""

      - name: landing_cloudevent_validated
        description: ""

      - name: landing_cloudevent_data_contract_version
        description: ""

      - name: landing_cloudevent_datacontenttype
        description: ""

      - name: landing_cloudevent_exception_error
        description: ""