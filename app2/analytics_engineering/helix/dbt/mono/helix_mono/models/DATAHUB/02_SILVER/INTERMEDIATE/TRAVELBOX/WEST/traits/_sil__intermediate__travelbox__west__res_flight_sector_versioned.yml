version: 2

models:
  - name: sil__intermediate__travelbox__west__res_flight_sector_versioned
    description: '{{ doc("sil__intermediate__travelbox__west__res_flight_sector_versioned") }}'

    meta:
      environment_wh:
        - env: LOCAL
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: LATEST
          wh: HOTEL_LODGING_LATEST_WH_S
        - env: EPHEMERAL_PR
          wh: PR_SMALL_WH
        - env: STAGE
          wh: HOTEL_LODGING_STAGE_WH_M
        - env: PROD
          wh: HOTEL_LODGING_PROD_WH_M

    config:
      tags:
        - layer=silver_intermediate
        - sub_layer=silver_intermediate_versioned
        - active=LATEST
        - active=STAGE
        - active=LOAD
        - active=PROD

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - data_booking_id
            - data_item_no
            - data_product_code
            - data_sector_no
            - metadata_checksum

    columns:
      - name: data_booking_token
        description: "NaN | example: VPzJJRAgfdHWOJThaXTm"

      - name: data_held_by
        description: "Deprecated | example:"

      - name: data_crs_seats
        description: "Number of seats reserved in CRS, associated with the sector | example: 2"

      - name: data_alloc_contract_id
        description: "Reference to the Contract_Id field of the contract where allocation is taken from. In a scenario where a  contract does not have allocations within itself but is getting allocations from another contract through shared allocations, this will refer the contract having the allocations. | example: -1"

      - name: data_alloc_leg_no
        description: "System generated id of the allocation leg | example: -1"

      - name: data_alloc_block_no
        description: "Allocation Block number of the Allocation contract. Field reference to the table FA_ALLOCATION_BLOCK, column BLOCK_NO | example: -1"

      - name: data_alloc_sector_no
        description: "Sector number of the allocation contract. Field reference to the FA_SECTOR table, SECTOR_NO column. | example: -1"

      - name: data_alloc_brand
        description: "Deprecated | example:"

      - name: data_alloc_seats
        description: "ALLOC_SEATS IN THE RES_FLIGHT_SECTOR | example: 0"

      - name: data_alloc_package_no
        description: "Copy of the RES_FLIGHT_SECTOR table same column name before a schedule change process | example: -1"

      - name: data_alloc_package_seats
        description: "Copy of the RES_FLIGHT_SECTOR table same column name before a schedule change process | example: 0"

      - name: data_baggage
        description: "Baggage information is specified either in pieces(PC) or kilograms(K). All baggage information is specified here in a comma separated manner for each pax type._x000D_
1 PC - 1 piece_x000D_
1 K - 1 Kg | example: 0 PC"

      - name: data_not_valid_after
        description: "Deprecated | example: 1992-11-17 16:27:34"

      - name: data_checkin_before
        description: "Time on or before the passengers are supposed to check in | example:"

      - name: data_touchdown
        description: "Touchdown airport codes between departure airport and destination airport | example:"

      - name: data_note
        description: "The note of Special Rate | example:"

      - name: data_addon_id
        description: "Oracle managed system tables used for materialised views | example: -1"

      - name: data_addon_sector
        description: "The sector number that is associated with a particular addon id | example: -1"

      - name: data_addon_charge_no
        description: "System generated number of addon charge | example: -1"

      - name: data_alloc_group_id
        description: "System generated id of the allocation contract group | example: -1"

      - name: data_fare_basis
        description: "Fare basis rule in free text | example: XAVNA0EE"

      - name: data_pub_fare_type_code
        description: "Deprecated | example: pIVnVdwlwJagkiozWLhj"

      - name: data_operating_airline
        description: "IATA code of operating airline | example: cEOcnIJmvSmENtbQzlby"

      - name: data_cabin_class
        description: "Cabin class of the cabin | example: ECONOMY"

      - name: data_duration
        description: "Duration of the booking item | example: 172"

      - name: data_mapping_fare_basis
        description: "This is the equivalent Published fare fare basis for a particular Private fare fare basis | example: XAVNA0EE"

      - name: data_no_of_stops
        description: "Specifies the number of touchdowns associated with the sector | example: 0"

      - name: data_pkg_item_order
        description: "If the booking item belongs to a package, the order number of the booking item within the package. | example: 0"

      - name: data_airline_locator
        description: "Airline locator code associated with the respective flight booking | example: GYM3EE"

      - name: data_pub_ticket_info_id
        description: "Ticket info from the Published fare overriding contract. | example: 1640"

      - name: data_price_combination
        description: "Deprecated | example: 0"

      - name: data_change_of_gauge
        description: "Specifies whether the flight sector has a change of equipment | example: 0"

      - name: data_last_modified_time
        description: "The time at which the last modification has done. | example: 1985-07-12 00:46:03"

      - name: data_operating_airline_info
        description: "When Shared Airline Designator or Wet Leas Airline Designation situation, operating carrier is not coming from Amadeus. but it&#39;s received operating carrier information. this column use for this purpose  | example: COMPASS DBA DELTA CONNECTION"

      - name: data_co2_info
        description: "NaN | example: zPiIQmsQrgmCjYHKazea"

      - name: data_pub_contract_id
        description: "Published fare override contract id. System generated Id of the overriding contract. | example: 8969"

      - name: data_baggage_chd
        description: "Deprecated | example: ZFYuASbIHiHLTCAZZAEf"

      - name: data_baggage_inf
        description: "Deprecated | example: VvoINmlHLBQKmvTYznQx"

      - name: data_designator
        description: "Ticket Designator returned from GDS for Cat 25 fares. Only saved if available, otherwise null. (for published and nett fares this would be null) | example: LN79"

      - name: data_operating_airline_flt_no
        description: "Flight no specified by the operating airline | example: ezvpMLKsHOKvHKgmaNWF"

      - name: data_seat_released
        description: "NaN | example: 1"

      - name: data_info_only_key
        description: "NaN | example: wfmEmPJxUbpQDORUNnQt"

      - name: data_meal_code
        description: "Meal codes returned by Amadeus. | example: KIVwiudALwhnTAEOjuit"

      - name: data_booking_id
        description: "The system generated id of the booking | example: 11411032"
        tags: ['column_designation=primary_key']
        tests:
          - not_null

      - name: data_product_code
        description: "Deprecated | example: FLT"
        tags: ['column_designation=primary_key']
        tests:
          - not_null

      - name: data_item_no
        description: "Deprecated | example: 1"
        tags: ['column_designation=primary_key']
        tests:
          - not_null

      - name: data_sector_no
        description: "Oracle managed system tables used for materialised views | example: 1"
        tags: ['column_designation=primary_key']
        tests:
          - not_null

      - name: data_itinerary_order
        description: "position in the itinerary order of all items within the booking. By Clicking on Reservation Client &#39;Itinerary&#39; node will show the itinerary in this order. User can change the order (position) manually. This is -1 for Transfer items | example: -1"

      - name: data_leg_no
        description: "Flight leg number | example: 1"

      - name: data_direction
        description: "Not in the disney scope | example: O"

      - name: data_airline
        description: "Unique IATA code of the airline | example: DL"

      - name: data_flight_no
        description: "The Flight number returned by Amadeus. (Ex: 510) | example: 5763"

      - name: data_booking_class
        description: "This is a temporary table. | example: X"

      - name: data_allocation_class
        description: "ALLOCATION CLASS IN THE RES_FLIGHT_SECTOR | example:"

      - name: data_dep
        description: "IATA code of departure airport | example: SEA"

      - name: data_des
        description: "IATA code of destination airport | example: SNA"

      - name: data_dep_date
        description: "Booking departure date | example: 1976-06-24 16:50:14"

      - name: data_des_date
        description: "Destination arrival date | example: 2001-01-09 14:15:42"

      - name: data_dep_terminal
        description: "Departure terminal after changing the flight item | example:"

      - name: data_arr_terminal
        description: "Arrival terminal after changing the flight item | example:"

      - name: data_equipment
        description: "Aircraft details associated with the flight sector | example: E75"

      - name: data_status_code
        description: "Code that specifies the status of the sector for GDS reserved flights | example: HK"

      - name: metadata_checksum
        description: "Metadata Checksum"
        tests:
          - not_null

      - name: metadata_timestamp
        description: "Timestamp of when the record was sent to the stream | example: 2023-08-11 14:38:01.378618"
        tests:
          - not_null

      - name: metadata_record_type
        description: "Type of record | example: data"

      - name: metadata_operation
        description: "Type of operation [insert, delete, update] | example: update"

      - name: metadata_partition_key_type
        description: "Partition key | example: schema-table"

      - name: metadata_schema_name
        description: "Name of schema | example: SFLNSMD"

      - name: metadata_table_name
        description: "Name of table | example: AP_LVL_N_ENTTL_FISCAL_DT"

      - name: metadata_transaction_id
        description: "Unique Transaction Identifier | example: 59558768559209"

      - name: metadata_transaction_record_id
        description: "Transaction Record ID | example: 70974432245344"

      - name: metadata_prev_transaction_id
        description: "Previous Transaction ID | example: 70974432245344"

      - name: metadata_prev_transaction_record_id
        description: "Previous Transaction Record ID | example: 70974432245344"

      - name: metadata_commit_timestamp
        description: "Commit Timestamp | example: 2023-03-29T15:30:19.109655Z"

      - name: metadata_stream_position
        description: "Stream Position | example:"

      - name: metadata_insert_datetime
        description: "This is the current timestamp in UTC when the record is inserted"
        tests:
          - not_null

      - name: metadata_batch_user
        description: "Batch user. Default value will be dbt"
        tests:
          - not_null

      - name: metadata_version_start_datetime
        description: "Version start datetime"
        tests:
          - not_null

      - name: metadata_version_end_datetime
        description: "Version end datetime"
        tests:
          - not_null

      - name: landing_id
        description: ""

      - name: landing_file_name
        description: ""

      - name: landing_file_row_number
        description: ""

      - name: landing_file_last_modified
        description: ""

      - name: landing_timestamp
        description: ""

      - name: landing_cloudevent_id
        description: ""

      - name: landing_cloudevent_specversion
        description: ""

      - name: landing_cloudevent_time
        description: ""

      - name: landing_cloudevent_source
        description: ""

      - name: landing_cloudevent_subject
        description: ""

      - name: landing_cloudevent_stream
        description: ""

      - name: landing_cloudevent_type
        description: ""

      - name: landing_cloudevent_dataschema
        description: ""

      - name: landing_cloudevent_traceparent
        description: ""

      - name: landing_cloudevent_tracestate
        description: ""

      - name: landing_cloudevent_check_sum
        description: ""

      - name: landing_cloudevent_router_database
        description: ""

      - name: landing_cloudevent_router_schema
        description: ""

      - name: landing_cloudevent_router_table
        description: ""

      - name: landing_cloudevent_validated
        description: ""

      - name: landing_cloudevent_data_contract_version
        description: ""

      - name: landing_cloudevent_datacontenttype
        description: ""

      - name: landing_cloudevent_exception_error
        description: ""